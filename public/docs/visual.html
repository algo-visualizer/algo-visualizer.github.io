<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 16.0.0"/>
    <title>visual API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:.75rem center;margin-bottom:1rem;}.pdoc .alert > em{display:none;}.pdoc .alert > *:last-child{margin-bottom:0;}.pdoc .alert.note{color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .alert.tip{color:#0a3622;background-color:#d1e7dd;border-color:#a3cfbb;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%230a3622%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M2%206a6%206%200%201%201%2010.174%204.31c-.203.196-.359.4-.453.619l-.762%201.769A.5.5%200%200%201%2010.5%2013a.5.5%200%200%201%200%201%20.5.5%200%200%201%200%201l-.224.447a1%201%200%200%201-.894.553H6.618a1%201%200%200%201-.894-.553L5.5%2015a.5.5%200%200%201%200-1%20.5.5%200%200%201%200-1%20.5.5%200%200%201-.46-.302l-.761-1.77a2%202%200%200%200-.453-.618A5.98%205.98%200%200%201%202%206m6-5a5%205%200%200%200-3.479%208.592c.263.254.514.564.676.941L5.83%2012h4.342l.632-1.467c.162-.377.413-.687.676-.941A5%205%200%200%200%208%201%22/%3E%3C/svg%3E");}.pdoc .alert.important{color:#055160;background-color:#cff4fc;border-color:#9eeaf9;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23055160%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M2%200a2%202%200%200%200-2%202v12a2%202%200%200%200%202%202h12a2%202%200%200%200%202-2V2a2%202%200%200%200-2-2zm6%204c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%204.995A.905.905%200%200%201%208%204m.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2%22/%3E%3C/svg%3E");}.pdoc .alert.warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .alert.caution{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M11.46.146A.5.5%200%200%200%2011.107%200H4.893a.5.5%200%200%200-.353.146L.146%204.54A.5.5%200%200%200%200%204.893v6.214a.5.5%200%200%200%20.146.353l4.394%204.394a.5.5%200%200%200%20.353.146h6.214a.5.5%200%200%200%20.353-.146l4.394-4.394a.5.5%200%200%200%20.146-.353V4.893a.5.5%200%200%200-.146-.353zM8%204c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%204.995A.905.905%200%200%201%208%204m.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2%22/%3E%3C/svg%3E");}.pdoc .alert.danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .decorator-deprecated{color:#842029;}.pdoc .decorator-deprecated ~ span{filter:grayscale(1) opacity(0.8);}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:27px;vertical-align:bottom;width:50px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>

            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>


            <h2>Submodules</h2>
            <ul>
                    <li><a href="visual/core.html">core</a></li>
                    <li><a href="visual/types.html">types</a></li>
            </ul>

            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="function" href="#breakpoint">breakpoint</a>
            </li>
            <li>
                    <a class="function" href="#inherit">inherit</a>
            </li>
            <li>
                    <a class="function" href="#var">var</a>
            </li>
            <li>
                    <a class="function" href="#array">array</a>
            </li>
            <li>
                    <a class="function" href="#array2d">array2d</a>
            </li>
            <li>
                    <a class="function" href="#nodes">nodes</a>
            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22160%22%20viewBox%3D%220%200%20150%2080%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M132.316%2048.886c.276-4.679%202.342-6.698%204.409-7.982s4.27-1.165%206.751-1.055c1.586.07%203.044.156%204.222-.482%201.142-.619%202.026-1.932%202.162-3.739.268-3.576-1.929-5.368-5.006-5.551s-7.599.524-10.517%201.606c-4.455%201.652-8.588%206.606-9.552%208.992s-2.342%206.193-1.745%2010.873%202.664%209.221%205.878%2011.79%205.878%203.808%2010.103%204.312%203.444.229%206.062.229%205.006-2.202%204.914-4.909-2.296-5.001-4.501-4.863-3.077.505-5.281.229-7.715-2.064-7.899-9.451z%22%20fill%3D%22%23198754%22/%3E%3Ccircle%20cx%3D%22101.504%22%20cy%3D%2248.943%22%20r%3D%2214.208%22%20fill%3D%22none%22%20stroke%3D%22%23198754%22%20stroke-width%3D%229.354%22/%3E%3Cpath%20d%3D%22M87.81.002c-3.637.065-5.001.454-7.014%201.232s-3.443%201.363-6.3%204.282c-1.723%201.76-3.148%205.019-3.776%207.329-.413%201.521-.316%202.63-.316%202.63l-.195%2034.612c.065%205.774-6.755%208.305-9.612%208.37s-9.678-1.038-9.743-9.408%207.128-9.521%208.362-9.521c1.413-.13%202.526-.021%203.718-.016%202.071.009%204.157-.778%204.092-4.671s-4.157-4.736-4.157-4.736c-6.3-.843-11.43%202.206-11.43%202.206S40.917%2038.15%2041.372%2049.634%2051.568%2068.19%2061.311%2068.125s18.316-7.007%2018.445-17.193l.13-22.772c.046-2.291%202.683-3.644%204.476-4.203.745-.232%201.694-.274%201.694-.274l10.457-.13s4.871-.324%207.729-3.114%204.352-6.294%204.352-6.294.974-3.049.13-4.606-.195-1.233-2.792-3.309-8.573-4.477-8.573-4.477S91.447-.063%2087.81.002zM0%2047.169l.065%2028.417S0%2080.127%204.481%2079.997s5.072-3.866%205.049-4.152l-.113-28.482s1.624-7.656%209.937-7.721%2010.002%206.942%2010.002%208.499-.909%2010.51-9.093%2010.51c-.948%200-2.99-.567-4.145-.272-3.919%201-3.194%204.554-3.194%204.554s.065%205.061%207.404%204.996%2018.575-6.034%2018.575-19.074S26.953%2030.04%2019.549%2029.91%201.234%2035.296%200%2047.169z%22%20fill%3D%22%23198754%22/%3E%3Cg%20transform%3D%22matrix%28.325601%200%200%20.325256%20-10.32669%20-45.802786%29%22%3E%3Ccircle%20cx%3D%22297.554%22%20cy%3D%22172.286%22%20r%3D%2216.5%22%20fill%3D%22%23fff%22/%3E%3Cellipse%20cx%3D%22297.709%22%20cy%3D%22172.642%22%20rx%3D%2211.071%22%20ry%3D%2210.871%22%20fill%3D%22%23105a48%22/%3E%3Ccircle%20cx%3D%22304.104%22%20cy%3D%22167.667%22%20r%3D%224.5%22%20fill%3D%22%23fff%22/%3E%3C/g%3E%3Cpath%20d%3D%22M94.661%2017.032l.893-1.476s.99.714%201.916.925%201.575.114%202.955.114l14.565-.162c1.283-.032%203.085-.762%203.02-3.293s-.373-3.503-.373-3.503l1.283-.487s.52.503.877%201.573.309%201.995.292%202.66-.227%201.541-.227%201.541%201.564-.308%202.359-1.038.823-.779%201.489-1.508.812-.86.812-.86.552-.13.877.26.341.957.065%201.46-1.672%202.206-3.247%203.066-2.76%201.427-3.929%201.768-3.848.73-7.063.714l-10.944-.114s-2.143-.081-3.02-.373-2.241-.973-2.598-1.265z%22%20fill%3D%22%23d36d49%22/%3E%3Cg%20fill%3D%22%23105a48%22%3E%3Cellipse%20cx%3D%2293.052%22%20cy%3D%2243.567%22%20rx%3D%22.869%22%20ry%3D%221.014%22%20transform%3D%22rotate%28341.022%29%22/%3E%3Cellipse%20cx%3D%22104.3%22%20cy%3D%22-16.184%22%20rx%3D%22.865%22%20ry%3D%221.009%22%20transform%3D%22rotate%2814.786%29%22/%3E%3C/g%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
visual    </h1>

                        <div class="docstring"><p>Visual API Module</p>

<p>This module provides debugging and visualization capabilities for Python code execution
in the browser via Pyodide.</p>
</div>

                        <input id="mod-visual-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-visual-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos"> 1</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos"> 2</span></a><span class="sd">Visual API Module</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos"> 3</span></a>
</span><span id="L-4"><a href="#L-4"><span class="linenos"> 4</span></a><span class="sd">This module provides debugging and visualization capabilities for Python code execution</span>
</span><span id="L-5"><a href="#L-5"><span class="linenos"> 5</span></a><span class="sd">in the browser via Pyodide.</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos"> 6</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos"> 7</span></a>
</span><span id="L-8"><a href="#L-8"><span class="linenos"> 8</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">visual.types.watchable</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos"> 9</span></a>    <span class="n">Var</span><span class="p">,</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos">10</span></a>    <span class="n">Array</span><span class="p">,</span>
</span><span id="L-11"><a href="#L-11"><span class="linenos">11</span></a>    <span class="n">Array2D</span><span class="p">,</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos">12</span></a>    <span class="n">Array3D</span><span class="p">,</span>
</span><span id="L-13"><a href="#L-13"><span class="linenos">13</span></a>    <span class="n">ArrayND</span><span class="p">,</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos">14</span></a>    <span class="n">Tensor</span><span class="p">,</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos">15</span></a>    <span class="n">Nodes</span><span class="p">,</span>
</span><span id="L-16"><a href="#L-16"><span class="linenos">16</span></a><span class="p">)</span>
</span><span id="L-17"><a href="#L-17"><span class="linenos">17</span></a>
</span><span id="L-18"><a href="#L-18"><span class="linenos">18</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">visual.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">watcher</span> 
</span><span id="L-19"><a href="#L-19"><span class="linenos">19</span></a>
</span><span id="L-20"><a href="#L-20"><span class="linenos">20</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">visual.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">_visual_api_breakpoint</span> <span class="k">as</span> <span class="nb">breakpoint</span>
</span><span id="L-21"><a href="#L-21"><span class="linenos">21</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">visual.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">_visual_api_watch_var</span> <span class="k">as</span> <span class="n">var</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos">22</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">visual.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">_visual_api_inherit</span> <span class="k">as</span> <span class="n">inherit</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos">23</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">visual.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">_visual_api_watch_array</span> <span class="k">as</span> <span class="n">array</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos">24</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">visual.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">_visual_api_watch_array2d</span> <span class="k">as</span> <span class="n">array2d</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos">25</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">visual.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">_visual_api_watch_nodes</span> <span class="k">as</span> <span class="n">nodes</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos">26</span></a>
</span><span id="L-27"><a href="#L-27"><span class="linenos">27</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">visual</span><span class="w"> </span><span class="kn">import</span> <span class="n">core</span><span class="p">,</span> <span class="n">types</span>
</span><span id="L-28"><a href="#L-28"><span class="linenos">28</span></a><span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos">29</span></a>    <span class="s2">&quot;core&quot;</span><span class="p">,</span> <span class="s2">&quot;types&quot;</span><span class="p">,</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos">30</span></a>    <span class="s2">&quot;breakpoint&quot;</span><span class="p">,</span> <span class="s2">&quot;inherit&quot;</span><span class="p">,</span> 
</span><span id="L-31"><a href="#L-31"><span class="linenos">31</span></a>    <span class="s2">&quot;var&quot;</span><span class="p">,</span> <span class="s2">&quot;array&quot;</span><span class="p">,</span> <span class="s2">&quot;array2d&quot;</span><span class="p">,</span> <span class="s2">&quot;nodes&quot;</span>   
</span><span id="L-32"><a href="#L-32"><span class="linenos">32</span></a><span class="p">]</span>
</span></pre></div>


            </section>
                <section id="breakpoint">
                            <input id="breakpoint-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">breakpoint</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">condition_expr</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="n"><a href="visual/types/snapshot.html#Snapshot">visual.types.snapshot.Snapshot</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="breakpoint-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#breakpoint"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="breakpoint-25"><a href="#breakpoint-25"><span class="linenos">25</span></a><span class="k">def</span><span class="w"> </span><span class="nf">_visual_api_breakpoint</span><span class="p">(</span><span class="n">condition_expr</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Snapshot</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="breakpoint-26"><a href="#breakpoint-26"><span class="linenos">26</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="breakpoint-27"><a href="#breakpoint-27"><span class="linenos">27</span></a><span class="sd">    Breakpoint function that captures variables snapshot at the current execution frame.</span>
</span><span id="breakpoint-28"><a href="#breakpoint-28"><span class="linenos">28</span></a><span class="sd">    </span>
</span><span id="breakpoint-29"><a href="#breakpoint-29"><span class="linenos">29</span></a><span class="sd">    This function is called at instrumented breakpoints in the user&#39;s code. It creates and returns a Snapshot object</span>
</span><span id="breakpoint-30"><a href="#breakpoint-30"><span class="linenos">30</span></a><span class="sd">    containing the current line number and the graphs of all watchable variables at the top of the global watcher registry stack. Also, it appends the snapshot to the global snapshots container as a side effect.</span>
</span><span id="breakpoint-31"><a href="#breakpoint-31"><span class="linenos">31</span></a>
</span><span id="breakpoint-32"><a href="#breakpoint-32"><span class="linenos">32</span></a><span class="sd">    Args:</span>
</span><span id="breakpoint-33"><a href="#breakpoint-33"><span class="linenos">33</span></a><span class="sd">        condition_expr (str | None): </span>
</span><span id="breakpoint-34"><a href="#breakpoint-34"><span class="linenos">34</span></a><span class="sd">            An optional boolean expression to evaluate as a condition for capturing the snapshot.</span>
</span><span id="breakpoint-35"><a href="#breakpoint-35"><span class="linenos">35</span></a><span class="sd">            If provided, the snapshot will only be captured if the expression evaluates to True.</span>
</span><span id="breakpoint-36"><a href="#breakpoint-36"><span class="linenos">36</span></a><span class="sd">            The expression is evaluated in the context of the current execution frame.</span>
</span><span id="breakpoint-37"><a href="#breakpoint-37"><span class="linenos">37</span></a>
</span><span id="breakpoint-38"><a href="#breakpoint-38"><span class="linenos">38</span></a><span class="sd">    Returns:</span>
</span><span id="breakpoint-39"><a href="#breakpoint-39"><span class="linenos">39</span></a><span class="sd">        Snapshot | None: The captured snapshot at the breakpoint. Returns None if the condition_expr is provided and evaluates to False</span>
</span><span id="breakpoint-40"><a href="#breakpoint-40"><span class="linenos">40</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="breakpoint-41"><a href="#breakpoint-41"><span class="linenos">41</span></a>    
</span><span id="breakpoint-42"><a href="#breakpoint-42"><span class="linenos">42</span></a>    <span class="n">frame</span> <span class="o">=</span> <span class="n">currentframe</span><span class="p">()</span>
</span><span id="breakpoint-43"><a href="#breakpoint-43"><span class="linenos">43</span></a>    <span class="k">try</span><span class="p">:</span>
</span><span id="breakpoint-44"><a href="#breakpoint-44"><span class="linenos">44</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">frame</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">frame</span><span class="o">.</span><span class="n">f_back</span><span class="p">:</span>
</span><span id="breakpoint-45"><a href="#breakpoint-45"><span class="linenos">45</span></a>            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;No valid frame selected&quot;</span><span class="p">)</span>
</span><span id="breakpoint-46"><a href="#breakpoint-46"><span class="linenos">46</span></a>        <span class="n">frame</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">f_back</span>
</span><span id="breakpoint-47"><a href="#breakpoint-47"><span class="linenos">47</span></a>
</span><span id="breakpoint-48"><a href="#breakpoint-48"><span class="linenos">48</span></a>        <span class="k">if</span> <span class="n">condition_expr</span><span class="p">:</span>
</span><span id="breakpoint-49"><a href="#breakpoint-49"><span class="linenos">49</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="breakpoint-50"><a href="#breakpoint-50"><span class="linenos">50</span></a>                <span class="n">condition_result</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="n">condition_expr</span><span class="p">,</span> <span class="n">frame</span><span class="o">.</span><span class="n">f_globals</span><span class="p">,</span> <span class="n">frame</span><span class="o">.</span><span class="n">f_locals</span><span class="p">)</span>
</span><span id="breakpoint-51"><a href="#breakpoint-51"><span class="linenos">51</span></a>            <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
</span><span id="breakpoint-52"><a href="#breakpoint-52"><span class="linenos">52</span></a>                <span class="n">condition_result</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="breakpoint-53"><a href="#breakpoint-53"><span class="linenos">53</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">condition_result</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
</span><span id="breakpoint-54"><a href="#breakpoint-54"><span class="linenos">54</span></a>                    <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">condition_expr</span><span class="si">}</span><span class="s2"> is evaluated to </span><span class="si">{</span><span class="n">condition_result</span><span class="si">}</span><span class="s2"> which is not a boolean&quot;</span><span class="p">)</span>
</span><span id="breakpoint-55"><a href="#breakpoint-55"><span class="linenos">55</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">condition_result</span><span class="p">:</span>
</span><span id="breakpoint-56"><a href="#breakpoint-56"><span class="linenos">56</span></a>                <span class="k">return</span>
</span><span id="breakpoint-57"><a href="#breakpoint-57"><span class="linenos">57</span></a>            
</span><span id="breakpoint-58"><a href="#breakpoint-58"><span class="linenos">58</span></a>        <span class="c1"># Get current line number in the executed code</span>
</span><span id="breakpoint-59"><a href="#breakpoint-59"><span class="linenos">59</span></a>        <span class="n">lineno</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">f_lineno</span>
</span><span id="breakpoint-60"><a href="#breakpoint-60"><span class="linenos">60</span></a>        
</span><span id="breakpoint-61"><a href="#breakpoint-61"><span class="linenos">61</span></a>        <span class="c1"># Map back to original source line using the injected map</span>
</span><span id="breakpoint-62"><a href="#breakpoint-62"><span class="linenos">62</span></a>        <span class="n">real_line</span> <span class="o">=</span> <span class="n">_linemap</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">lineno</span><span class="p">),</span> <span class="n">lineno</span><span class="p">)</span>
</span><span id="breakpoint-63"><a href="#breakpoint-63"><span class="linenos">63</span></a>
</span><span id="breakpoint-64"><a href="#breakpoint-64"><span class="linenos">64</span></a>        <span class="n">graphs</span><span class="p">:</span> <span class="n">GraphGroup</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="breakpoint-65"><a href="#breakpoint-65"><span class="linenos">65</span></a>        
</span><span id="breakpoint-66"><a href="#breakpoint-66"><span class="linenos">66</span></a>        <span class="k">for</span> <span class="n">varname</span><span class="p">,</span> <span class="n">watchables</span> <span class="ow">in</span> <span class="n">watcher</span><span class="o">.</span><span class="n">get_registry</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="breakpoint-67"><a href="#breakpoint-67"><span class="linenos">67</span></a>            <span class="n">graph</span> <span class="o">=</span> <span class="n">watchables</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">generate_graph</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>
</span><span id="breakpoint-68"><a href="#breakpoint-68"><span class="linenos">68</span></a>            <span class="n">graphs</span><span class="p">[</span><span class="n">varname</span><span class="p">]</span> <span class="o">=</span> <span class="n">graph</span>
</span><span id="breakpoint-69"><a href="#breakpoint-69"><span class="linenos">69</span></a>    <span class="k">finally</span><span class="p">:</span>
</span><span id="breakpoint-70"><a href="#breakpoint-70"><span class="linenos">70</span></a>        <span class="k">del</span> <span class="n">frame</span> <span class="c1"># Prevent creating cycle reference</span>
</span><span id="breakpoint-71"><a href="#breakpoint-71"><span class="linenos">71</span></a>
</span><span id="breakpoint-72"><a href="#breakpoint-72"><span class="linenos">72</span></a>    <span class="n">snapshot</span> <span class="o">=</span> <span class="n">Snapshot</span><span class="p">(</span>
</span><span id="breakpoint-73"><a href="#breakpoint-73"><span class="linenos">73</span></a>        <span class="n">line</span><span class="o">=</span><span class="n">real_line</span><span class="p">,</span>
</span><span id="breakpoint-74"><a href="#breakpoint-74"><span class="linenos">74</span></a>        <span class="n">graph_group</span><span class="o">=</span><span class="n">graphs</span><span class="p">,</span>
</span><span id="breakpoint-75"><a href="#breakpoint-75"><span class="linenos">75</span></a>        <span class="n">event</span><span class="o">=</span><span class="s2">&quot;line&quot;</span><span class="p">,</span>
</span><span id="breakpoint-76"><a href="#breakpoint-76"><span class="linenos">76</span></a>        <span class="n">stdout</span><span class="o">=</span><span class="n">snapshot_io</span><span class="o">.</span><span class="n">read_and_clear</span><span class="p">(),</span>
</span><span id="breakpoint-77"><a href="#breakpoint-77"><span class="linenos">77</span></a>    <span class="p">)</span>
</span><span id="breakpoint-78"><a href="#breakpoint-78"><span class="linenos">78</span></a>
</span><span id="breakpoint-79"><a href="#breakpoint-79"><span class="linenos">79</span></a>    <span class="n">_snapshots</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">snapshot</span><span class="p">)</span>
</span><span id="breakpoint-80"><a href="#breakpoint-80"><span class="linenos">80</span></a>
</span><span id="breakpoint-81"><a href="#breakpoint-81"><span class="linenos">81</span></a>    <span class="k">return</span> <span class="n">snapshot</span>
</span></pre></div>


            <div class="docstring"><p>Breakpoint function that captures variables snapshot at the current execution frame.</p>

<p>This function is called at instrumented breakpoints in the user's code. It creates and returns a Snapshot object
containing the current line number and the graphs of all watchable variables at the top of the global watcher registry stack. Also, it appends the snapshot to the global snapshots container as a side effect.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>condition_expr (str | None):</strong>   An optional boolean expression to evaluate as a condition for capturing the snapshot.
If provided, the snapshot will only be captured if the expression evaluates to True.
The expression is evaluated in the context of the current execution frame.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>Snapshot | None: The captured snapshot at the breakpoint. Returns None if the condition_expr is provided and evaluates to False</p>
</blockquote>
</div>


                </section>
                <section id="inherit">
                            <input id="inherit-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">inherit</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">ds_var</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="n"><a href="visual/core/watcher.html#DSWatcherContext">visual.core.watcher.DSWatcherContext</a></span><span class="p">[</span><span class="n"><a href="visual/types/watchable.html#DS">visual.types.watchable.DS</a></span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="inherit-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#inherit"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="inherit-116"><a href="#inherit-116"><span class="linenos">116</span></a><span class="k">def</span><span class="w"> </span><span class="nf">_visual_api_inherit</span><span class="p">(</span><span class="n">ds_var</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DSWatcherContext</span><span class="p">[</span><span class="n">DS</span><span class="p">]:</span>
</span><span id="inherit-117"><a href="#inherit-117"><span class="linenos">117</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="inherit-118"><a href="#inherit-118"><span class="linenos">118</span></a><span class="sd">    Inherit (deepcopy) the watchable at the top of the registry stack. The watchable must be a DS.</span>
</span><span id="inherit-119"><a href="#inherit-119"><span class="linenos">119</span></a>
</span><span id="inherit-120"><a href="#inherit-120"><span class="linenos">120</span></a><span class="sd">    **It is recommended to be used when you have instantiated a complex `DSWatcherContext` and you don&#39;t want to repeat the same instantiation operations.**</span>
</span><span id="inherit-121"><a href="#inherit-121"><span class="linenos">121</span></a>
</span><span id="inherit-122"><a href="#inherit-122"><span class="linenos">122</span></a><span class="sd">    Args:</span>
</span><span id="inherit-123"><a href="#inherit-123"><span class="linenos">123</span></a><span class="sd">        ds_var (str): The variable name of the watchable to inherit.</span>
</span><span id="inherit-124"><a href="#inherit-124"><span class="linenos">124</span></a>
</span><span id="inherit-125"><a href="#inherit-125"><span class="linenos">125</span></a><span class="sd">    Examples:</span>
</span><span id="inherit-126"><a href="#inherit-126"><span class="linenos">126</span></a><span class="sd">        ```python</span>
</span><span id="inherit-127"><a href="#inherit-127"><span class="linenos">127</span></a><span class="sd">        array(&#39;arr&#39;).index(&#39;i&#39;, &#39;j&#39;) </span>
</span><span id="inherit-128"><a href="#inherit-128"><span class="linenos">128</span></a>
</span><span id="inherit-129"><a href="#inherit-129"><span class="linenos">129</span></a><span class="sd">        with inherit(&#39;arr&#39;).index(&#39;k&#39;): # Register a new watchable inherited from the latest &#39;arr&#39; watchable</span>
</span><span id="inherit-130"><a href="#inherit-130"><span class="linenos">130</span></a><span class="sd">            ...</span>
</span><span id="inherit-131"><a href="#inherit-131"><span class="linenos">131</span></a><span class="sd">            breakpoint() # It will show &#39;arr&#39; with the index &#39;i&#39;, &#39;j&#39;, &#39;k&#39;</span>
</span><span id="inherit-132"><a href="#inherit-132"><span class="linenos">132</span></a><span class="sd">        breakpoint() # It will show &#39;arr&#39; with the index &#39;i&#39;, &#39;j&#39;</span>
</span><span id="inherit-133"><a href="#inherit-133"><span class="linenos">133</span></a><span class="sd">        ```</span>
</span><span id="inherit-134"><a href="#inherit-134"><span class="linenos">134</span></a><span class="sd">    Returns:</span>
</span><span id="inherit-135"><a href="#inherit-135"><span class="linenos">135</span></a><span class="sd">        DSWatcherContext[DS]: The context manager containing the inherited watchable.</span>
</span><span id="inherit-136"><a href="#inherit-136"><span class="linenos">136</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="inherit-137"><a href="#inherit-137"><span class="linenos">137</span></a>    <span class="n">registry</span> <span class="o">=</span> <span class="n">watcher</span><span class="o">.</span><span class="n">get_registry</span><span class="p">()</span>
</span><span id="inherit-138"><a href="#inherit-138"><span class="linenos">138</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">registry</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ds_var</span><span class="p">):</span>
</span><span id="inherit-139"><a href="#inherit-139"><span class="linenos">139</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Can&#39;t inherit variable </span><span class="si">{</span><span class="n">ds_var</span><span class="si">}</span><span class="s2"> that has no watchable existing&quot;</span><span class="p">)</span>
</span><span id="inherit-140"><a href="#inherit-140"><span class="linenos">140</span></a>    <span class="n">w</span> <span class="o">=</span> <span class="n">registry</span><span class="p">[</span><span class="n">ds_var</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span><span id="inherit-141"><a href="#inherit-141"><span class="linenos">141</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">DS</span><span class="p">):</span>
</span><span id="inherit-142"><a href="#inherit-142"><span class="linenos">142</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Can&#39;t inherit watchable </span><span class="si">{</span><span class="n">ds_var</span><span class="si">}</span><span class="s2"> that is not a DS &quot;</span><span class="p">)</span>
</span><span id="inherit-143"><a href="#inherit-143"><span class="linenos">143</span></a>    <span class="n">new_w</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
</span><span id="inherit-144"><a href="#inherit-144"><span class="linenos">144</span></a>    <span class="n">watcher</span><span class="o">.</span><span class="n">watch</span><span class="p">(</span><span class="n">new_w</span><span class="p">)</span>
</span><span id="inherit-145"><a href="#inherit-145"><span class="linenos">145</span></a>    <span class="k">return</span> <span class="n">DSWatcherContext</span><span class="p">([</span><span class="n">new_w</span><span class="p">])</span>
</span></pre></div>


            <div class="docstring"><p>Inherit (deepcopy) the watchable at the top of the registry stack. The watchable must be a DS.</p>

<p><strong>It is recommended to be used when you have instantiated a complex <code>DSWatcherContext</code> and you don't want to repeat the same instantiation operations.</strong></p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>ds_var (str):</strong>  The variable name of the watchable to inherit.</li>
</ul>

<h6 id="examples">Examples:</h6>

<blockquote>
  <div class="pdoc-code codehilite">
<pre><span></span><code><span class="n">array</span><span class="p">(</span><span class="s1">&#39;arr&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="s1">&#39;j&#39;</span><span class="p">)</span> 

<span class="k">with</span> <span class="n">inherit</span><span class="p">(</span><span class="s1">&#39;arr&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;k&#39;</span><span class="p">):</span> <span class="c1"># Register a new watchable inherited from the latest &#39;arr&#39; watchable</span>
    <span class="o">...</span>
    <span class="nb">breakpoint</span><span class="p">()</span> <span class="c1"># It will show &#39;arr&#39; with the index &#39;i&#39;, &#39;j&#39;, &#39;k&#39;</span>
<span class="nb">breakpoint</span><span class="p">()</span> <span class="c1"># It will show &#39;arr&#39; with the index &#39;i&#39;, &#39;j&#39;</span>
</code></pre>
  </div>
</blockquote>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>DSWatcherContext[DS]: The context manager containing the inherited watchable.</p>
</blockquote>
</div>


                </section>
                <section id="var">
                            <input id="var-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">var</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">var</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="o">*</span><span class="nb">vars</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">expr</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="n"><a href="visual/core/watcher.html#WatcherContext">visual.core.watcher.WatcherContext</a></span><span class="p">[</span><span class="n"><a href="visual/types/watchable.html#Var">visual.types.watchable.Var</a></span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="var-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#var"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="var-84"><a href="#var-84"><span class="linenos"> 84</span></a><span class="k">def</span><span class="w"> </span><span class="nf">_visual_api_watch_var</span><span class="p">(</span><span class="n">var</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="nb">vars</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">expr</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WatcherContext</span><span class="p">[</span><span class="n">Var</span><span class="p">]:</span>
</span><span id="var-85"><a href="#var-85"><span class="linenos"> 85</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="var-86"><a href="#var-86"><span class="linenos"> 86</span></a><span class="sd">    Registers variable names to be watched in the snapshot.</span>
</span><span id="var-87"><a href="#var-87"><span class="linenos"> 87</span></a><span class="sd">    </span>
</span><span id="var-88"><a href="#var-88"><span class="linenos"> 88</span></a><span class="sd">    Args:</span>
</span><span id="var-89"><a href="#var-89"><span class="linenos"> 89</span></a><span class="sd">        var (str): Variable Name to watch.</span>
</span><span id="var-90"><a href="#var-90"><span class="linenos"> 90</span></a><span class="sd">        *vars (str): Additional variable names to watch.</span>
</span><span id="var-91"><a href="#var-91"><span class="linenos"> 91</span></a><span class="sd">        expr (bool): Whether the `var` and `*vars` are actually expressions.</span>
</span><span id="var-92"><a href="#var-92"><span class="linenos"> 92</span></a>
</span><span id="var-93"><a href="#var-93"><span class="linenos"> 93</span></a><span class="sd">    **Provide variable names or expressions but not both.** `expr=False` looks up `vars` arguments by name at locals/globals of the execution frame which has better performance. `expr=True` treats `vars` arguments as expressions and directly evaluate them by using `eval()` during capture.</span>
</span><span id="var-94"><a href="#var-94"><span class="linenos"> 94</span></a>
</span><span id="var-95"><a href="#var-95"><span class="linenos"> 95</span></a><span class="sd">    **Use `expr=False` in most cases.** Use `expr=True` when you must watch a composite expression or computation that is not stored in a simple variable.</span>
</span><span id="var-96"><a href="#var-96"><span class="linenos"> 96</span></a><span class="sd">        </span>
</span><span id="var-97"><a href="#var-97"><span class="linenos"> 97</span></a><span class="sd">    Examples:</span>
</span><span id="var-98"><a href="#var-98"><span class="linenos"> 98</span></a><span class="sd">        ```python</span>
</span><span id="var-99"><a href="#var-99"><span class="linenos"> 99</span></a><span class="sd">        var(&#39;x&#39;, &#39;i&#39;, &#39;global_var&#39;)</span>
</span><span id="var-100"><a href="#var-100"><span class="linenos">100</span></a><span class="sd">        var(&#39;i+j&#39;, &#39;x+y&#39;, expr=True)</span>
</span><span id="var-101"><a href="#var-101"><span class="linenos">101</span></a>
</span><span id="var-102"><a href="#var-102"><span class="linenos">102</span></a><span class="sd">        # Wrong usage</span>
</span><span id="var-103"><a href="#var-103"><span class="linenos">103</span></a><span class="sd">        var()</span>
</span><span id="var-104"><a href="#var-104"><span class="linenos">104</span></a><span class="sd">        var(&#39;i+j&#39;, &#39;x+y&#39;) # Didn&#39;t specify that they are expressions</span>
</span><span id="var-105"><a href="#var-105"><span class="linenos">105</span></a><span class="sd">        ```</span>
</span><span id="var-106"><a href="#var-106"><span class="linenos">106</span></a><span class="sd">    Returns:</span>
</span><span id="var-107"><a href="#var-107"><span class="linenos">107</span></a><span class="sd">        WatcherContext[Var]: The context manager containing the registered watchables.</span>
</span><span id="var-108"><a href="#var-108"><span class="linenos">108</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="var-109"><a href="#var-109"><span class="linenos">109</span></a>    <span class="n">l</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Var</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="var-110"><a href="#var-110"><span class="linenos">110</span></a>    <span class="k">for</span> <span class="n">varname</span> <span class="ow">in</span> <span class="p">(</span><span class="n">var</span><span class="p">,</span> <span class="o">*</span><span class="nb">vars</span><span class="p">):</span>
</span><span id="var-111"><a href="#var-111"><span class="linenos">111</span></a>        <span class="n">v</span> <span class="o">=</span> <span class="n">Var</span><span class="p">(</span><span class="n">varname</span><span class="p">,</span> <span class="n">expr</span><span class="o">=</span><span class="n">expr</span><span class="p">)</span>
</span><span id="var-112"><a href="#var-112"><span class="linenos">112</span></a>        <span class="n">l</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
</span><span id="var-113"><a href="#var-113"><span class="linenos">113</span></a>        <span class="n">watcher</span><span class="o">.</span><span class="n">watch</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
</span><span id="var-114"><a href="#var-114"><span class="linenos">114</span></a>    <span class="k">return</span> <span class="n">WatcherContext</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Registers variable names to be watched in the snapshot.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>var (str):</strong>  Variable Name to watch.</li>
<li><strong>*vars (str):</strong>  Additional variable names to watch.</li>
<li><strong>expr (bool):</strong>  Whether the <code><a href="#var">var</a></code> and <code>*vars</code> are actually expressions.</li>
</ul>

<p><strong>Provide variable names or expressions but not both.</strong> <code>expr=False</code> looks up <code>vars</code> arguments by name at locals/globals of the execution frame which has better performance. <code>expr=True</code> treats <code>vars</code> arguments as expressions and directly evaluate them by using <code>eval()</code> during capture.</p>

<p><strong>Use <code>expr=False</code> in most cases.</strong> Use <code>expr=True</code> when you must watch a composite expression or computation that is not stored in a simple variable.</p>

<h6 id="examples">Examples:</h6>

<blockquote>
  <div class="pdoc-code codehilite">
<pre><span></span><code><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="s1">&#39;global_var&#39;</span><span class="p">)</span>
<span class="n">var</span><span class="p">(</span><span class="s1">&#39;i+j&#39;</span><span class="p">,</span> <span class="s1">&#39;x+y&#39;</span><span class="p">,</span> <span class="n">expr</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Wrong usage</span>
<span class="n">var</span><span class="p">()</span>
<span class="n">var</span><span class="p">(</span><span class="s1">&#39;i+j&#39;</span><span class="p">,</span> <span class="s1">&#39;x+y&#39;</span><span class="p">)</span> <span class="c1"># Didn&#39;t specify that they are expressions</span>
</code></pre>
  </div>
</blockquote>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>WatcherContext[Var]: The context manager containing the registered watchables.</p>
</blockquote>
</div>


                </section>
                <section id="array">
                            <input id="array-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">array</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">var</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="o">*</span><span class="nb">vars</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">expr</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="n"><a href="visual/core/watcher.html#DSWatcherContext">visual.core.watcher.DSWatcherContext</a></span><span class="p">[</span><span class="n"><a href="visual/types/watchable.html#Array">visual.types.watchable.Array</a></span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="array-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#array"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="array-148"><a href="#array-148"><span class="linenos">148</span></a><span class="k">def</span><span class="w"> </span><span class="nf">_visual_api_watch_array</span><span class="p">(</span><span class="n">var</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="nb">vars</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">expr</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DSWatcherContext</span><span class="p">[</span><span class="n">Array</span><span class="p">]:</span>
</span><span id="array-149"><a href="#array-149"><span class="linenos">149</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="array-150"><a href="#array-150"><span class="linenos">150</span></a><span class="sd">    Registers an iterable variable to be watched in the snapshot.</span>
</span><span id="array-151"><a href="#array-151"><span class="linenos">151</span></a><span class="sd">    </span>
</span><span id="array-152"><a href="#array-152"><span class="linenos">152</span></a><span class="sd">    Args:</span>
</span><span id="array-153"><a href="#array-153"><span class="linenos">153</span></a><span class="sd">        var (str): Variable Name of iterable to watch.</span>
</span><span id="array-154"><a href="#array-154"><span class="linenos">154</span></a><span class="sd">        *vars (str): Additional variable names of iterables to watch.</span>
</span><span id="array-155"><a href="#array-155"><span class="linenos">155</span></a><span class="sd">        expr (bool): Whether the `var` and `*vars` are actually expressions.</span>
</span><span id="array-156"><a href="#array-156"><span class="linenos">156</span></a>
</span><span id="array-157"><a href="#array-157"><span class="linenos">157</span></a><span class="sd">    **Provide variable names or expressions but not both.** `expr=False` looks up `vars` arguments by name at locals/globals of the execution frame which has better performance. `expr=True` treats `vars` arguments as expressions and directly evaluate them by using `eval()` during capture.</span>
</span><span id="array-158"><a href="#array-158"><span class="linenos">158</span></a>
</span><span id="array-159"><a href="#array-159"><span class="linenos">159</span></a><span class="sd">    **Use `expr=False` in most cases.** Use `expr=True` when you must watch a composite expression or computation that is not stored in a simple variable.</span>
</span><span id="array-160"><a href="#array-160"><span class="linenos">160</span></a>
</span><span id="array-161"><a href="#array-161"><span class="linenos">161</span></a><span class="sd">    Examples:</span>
</span><span id="array-162"><a href="#array-162"><span class="linenos">162</span></a><span class="sd">        ```python</span>
</span><span id="array-163"><a href="#array-163"><span class="linenos">163</span></a><span class="sd">        array(&#39;my_list&#39;, &#39;my_deque&#39;)</span>
</span><span id="array-164"><a href="#array-164"><span class="linenos">164</span></a><span class="sd">        array(&#39;arr[:1]&#39;, &#39;arr.sort()&#39;, expr=True)</span>
</span><span id="array-165"><a href="#array-165"><span class="linenos">165</span></a><span class="sd">        array(&#39;my_list&#39;).index(&#39;i&#39;, &#39;j&#39;).item(&#39;target&#39;).index(&#39;i+1&#39;, &#39;i+2&#39;, expr=True)</span>
</span><span id="array-166"><a href="#array-166"><span class="linenos">166</span></a><span class="sd">        array(&#39;list1&#39;, &#39;list2&#39;).index(&#39;i&#39;, &#39;j&#39;).item(&#39;target&#39;).index(&#39;i+1&#39;, &#39;i+2&#39;, expr=True) # Multiple arrays with multiple indexes and items binding</span>
</span><span id="array-167"><a href="#array-167"><span class="linenos">167</span></a>
</span><span id="array-168"><a href="#array-168"><span class="linenos">168</span></a><span class="sd">        # Wrong usage</span>
</span><span id="array-169"><a href="#array-169"><span class="linenos">169</span></a><span class="sd">        array()</span>
</span><span id="array-170"><a href="#array-170"><span class="linenos">170</span></a><span class="sd">        array(&#39;arr[:1]&#39;, &#39;arr.sort()&#39;) # Didn&#39;t specify that they are expressions</span>
</span><span id="array-171"><a href="#array-171"><span class="linenos">171</span></a><span class="sd">        ```</span>
</span><span id="array-172"><a href="#array-172"><span class="linenos">172</span></a>
</span><span id="array-173"><a href="#array-173"><span class="linenos">173</span></a><span class="sd">    Returns:</span>
</span><span id="array-174"><a href="#array-174"><span class="linenos">174</span></a><span class="sd">        DSWatcherContext[Array]: The context manager containing the watched variables.</span>
</span><span id="array-175"><a href="#array-175"><span class="linenos">175</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="array-176"><a href="#array-176"><span class="linenos">176</span></a>    <span class="n">l</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Array</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="array-177"><a href="#array-177"><span class="linenos">177</span></a>    <span class="k">for</span> <span class="n">varname</span> <span class="ow">in</span> <span class="p">(</span><span class="n">var</span><span class="p">,</span> <span class="o">*</span><span class="nb">vars</span><span class="p">):</span>
</span><span id="array-178"><a href="#array-178"><span class="linenos">178</span></a>        <span class="n">v</span> <span class="o">=</span> <span class="n">Array</span><span class="p">(</span><span class="n">varname</span><span class="p">,</span> <span class="n">expr</span><span class="o">=</span><span class="n">expr</span><span class="p">)</span>
</span><span id="array-179"><a href="#array-179"><span class="linenos">179</span></a>        <span class="n">l</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
</span><span id="array-180"><a href="#array-180"><span class="linenos">180</span></a>        <span class="n">watcher</span><span class="o">.</span><span class="n">watch</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
</span><span id="array-181"><a href="#array-181"><span class="linenos">181</span></a>    <span class="k">return</span> <span class="n">DSWatcherContext</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Registers an iterable variable to be watched in the snapshot.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>var (str):</strong>  Variable Name of iterable to watch.</li>
<li><strong>*vars (str):</strong>  Additional variable names of iterables to watch.</li>
<li><strong>expr (bool):</strong>  Whether the <code><a href="#var">var</a></code> and <code>*vars</code> are actually expressions.</li>
</ul>

<p><strong>Provide variable names or expressions but not both.</strong> <code>expr=False</code> looks up <code>vars</code> arguments by name at locals/globals of the execution frame which has better performance. <code>expr=True</code> treats <code>vars</code> arguments as expressions and directly evaluate them by using <code>eval()</code> during capture.</p>

<p><strong>Use <code>expr=False</code> in most cases.</strong> Use <code>expr=True</code> when you must watch a composite expression or computation that is not stored in a simple variable.</p>

<h6 id="examples">Examples:</h6>

<blockquote>
  <div class="pdoc-code codehilite">
<pre><span></span><code><span class="n">array</span><span class="p">(</span><span class="s1">&#39;my_list&#39;</span><span class="p">,</span> <span class="s1">&#39;my_deque&#39;</span><span class="p">)</span>
<span class="n">array</span><span class="p">(</span><span class="s1">&#39;arr[:1]&#39;</span><span class="p">,</span> <span class="s1">&#39;arr.sort()&#39;</span><span class="p">,</span> <span class="n">expr</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">array</span><span class="p">(</span><span class="s1">&#39;my_list&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="s1">&#39;j&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="s1">&#39;target&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;i+1&#39;</span><span class="p">,</span> <span class="s1">&#39;i+2&#39;</span><span class="p">,</span> <span class="n">expr</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">array</span><span class="p">(</span><span class="s1">&#39;list1&#39;</span><span class="p">,</span> <span class="s1">&#39;list2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="s1">&#39;j&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="s1">&#39;target&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;i+1&#39;</span><span class="p">,</span> <span class="s1">&#39;i+2&#39;</span><span class="p">,</span> <span class="n">expr</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="c1"># Multiple arrays with multiple indexes and items binding</span>

<span class="c1"># Wrong usage</span>
<span class="n">array</span><span class="p">()</span>
<span class="n">array</span><span class="p">(</span><span class="s1">&#39;arr[:1]&#39;</span><span class="p">,</span> <span class="s1">&#39;arr.sort()&#39;</span><span class="p">)</span> <span class="c1"># Didn&#39;t specify that they are expressions</span>
</code></pre>
  </div>
</blockquote>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>DSWatcherContext[Array]: The context manager containing the watched variables.</p>
</blockquote>
</div>


                </section>
                <section id="array2d">
                            <input id="array2d-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">array2d</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">var</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="o">*</span><span class="nb">vars</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">expr</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="n"><a href="visual/core/watcher.html#DSWatcherContext">visual.core.watcher.DSWatcherContext</a></span><span class="p">[</span><span class="n"><a href="visual/types/watchable.html#Array2D">visual.types.watchable.Array2D</a></span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="array2d-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#array2d"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="array2d-183"><a href="#array2d-183"><span class="linenos">183</span></a><span class="k">def</span><span class="w"> </span><span class="nf">_visual_api_watch_array2d</span><span class="p">(</span><span class="n">var</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="nb">vars</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">expr</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DSWatcherContext</span><span class="p">[</span><span class="n">Array2D</span><span class="p">]:</span>
</span><span id="array2d-184"><a href="#array2d-184"><span class="linenos">184</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="array2d-185"><a href="#array2d-185"><span class="linenos">185</span></a><span class="sd">    Registers an 2-dimensional iterable variable to be watched in the snapshot.</span>
</span><span id="array2d-186"><a href="#array2d-186"><span class="linenos">186</span></a><span class="sd">    </span>
</span><span id="array2d-187"><a href="#array2d-187"><span class="linenos">187</span></a><span class="sd">    Args:</span>
</span><span id="array2d-188"><a href="#array2d-188"><span class="linenos">188</span></a><span class="sd">        var (str): Variable Name of 2-dimensional iterable to watch.</span>
</span><span id="array2d-189"><a href="#array2d-189"><span class="linenos">189</span></a><span class="sd">        *vars (str): Additional variable names of 2-dimensional iterables to watch.</span>
</span><span id="array2d-190"><a href="#array2d-190"><span class="linenos">190</span></a><span class="sd">        expr (bool): Whether the `var` and `*vars` are actually expressions.</span>
</span><span id="array2d-191"><a href="#array2d-191"><span class="linenos">191</span></a>
</span><span id="array2d-192"><a href="#array2d-192"><span class="linenos">192</span></a><span class="sd">    **Provide variable names or expressions but not both.** `expr=False` looks up `vars` arguments by name at locals/globals of the execution frame which has better performance. `expr=True` treats `vars` arguments as expressions and directly evaluate them by using `eval()` during capture.</span>
</span><span id="array2d-193"><a href="#array2d-193"><span class="linenos">193</span></a>
</span><span id="array2d-194"><a href="#array2d-194"><span class="linenos">194</span></a><span class="sd">    **Use `expr=False` in most cases.** Use `expr=True` when you must watch a composite expression or computation that is not stored in a simple variable.</span>
</span><span id="array2d-195"><a href="#array2d-195"><span class="linenos">195</span></a>
</span><span id="array2d-196"><a href="#array2d-196"><span class="linenos">196</span></a><span class="sd">    Returns:</span>
</span><span id="array2d-197"><a href="#array2d-197"><span class="linenos">197</span></a><span class="sd">        DSWatcherContext[Array2D]: The context manager containing the watched variables.</span>
</span><span id="array2d-198"><a href="#array2d-198"><span class="linenos">198</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="array2d-199"><a href="#array2d-199"><span class="linenos">199</span></a>    <span class="n">l</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Array2D</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="array2d-200"><a href="#array2d-200"><span class="linenos">200</span></a>    <span class="k">for</span> <span class="n">varname</span> <span class="ow">in</span> <span class="p">(</span><span class="n">var</span><span class="p">,</span> <span class="o">*</span><span class="nb">vars</span><span class="p">):</span>
</span><span id="array2d-201"><a href="#array2d-201"><span class="linenos">201</span></a>        <span class="n">v</span> <span class="o">=</span> <span class="n">Array2D</span><span class="p">(</span><span class="n">varname</span><span class="p">,</span> <span class="n">expr</span><span class="o">=</span><span class="n">expr</span><span class="p">)</span>
</span><span id="array2d-202"><a href="#array2d-202"><span class="linenos">202</span></a>        <span class="n">l</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
</span><span id="array2d-203"><a href="#array2d-203"><span class="linenos">203</span></a>        <span class="n">watcher</span><span class="o">.</span><span class="n">watch</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
</span><span id="array2d-204"><a href="#array2d-204"><span class="linenos">204</span></a>    <span class="k">return</span> <span class="n">DSWatcherContext</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Registers an 2-dimensional iterable variable to be watched in the snapshot.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>var (str):</strong>  Variable Name of 2-dimensional iterable to watch.</li>
<li><strong>*vars (str):</strong>  Additional variable names of 2-dimensional iterables to watch.</li>
<li><strong>expr (bool):</strong>  Whether the <code><a href="#var">var</a></code> and <code>*vars</code> are actually expressions.</li>
</ul>

<p><strong>Provide variable names or expressions but not both.</strong> <code>expr=False</code> looks up <code>vars</code> arguments by name at locals/globals of the execution frame which has better performance. <code>expr=True</code> treats <code>vars</code> arguments as expressions and directly evaluate them by using <code>eval()</code> during capture.</p>

<p><strong>Use <code>expr=False</code> in most cases.</strong> Use <code>expr=True</code> when you must watch a composite expression or computation that is not stored in a simple variable.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>DSWatcherContext[Array2D]: The context manager containing the watched variables.</p>
</blockquote>
</div>


                </section>
                <section id="nodes">
                            <input id="nodes-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">nodes</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">var</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">head_id</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">_NodesType</span><span class="p">],</span> <span class="n">_IdType</span><span class="p">]</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">function</span> <span class="n">_HEAD_ID_FUNC_DEFAULT</span><span class="o">&gt;</span>,</span><span class="param">	<span class="n">next_ids</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">_NodesType</span><span class="p">,</span> <span class="n">_IdType</span><span class="p">],</span> <span class="n">Union</span><span class="p">[</span><span class="n">_IdType</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">_IdType</span><span class="p">,</span> <span class="n">_WeightType</span><span class="p">],</span> <span class="nb">list</span><span class="p">[</span><span class="n">_IdType</span><span class="p">],</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">_IdType</span><span class="p">,</span> <span class="n">_WeightType</span><span class="p">]]]]</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">function</span> <span class="n">_NEXT_IDS_FUNC_DEFAULT</span><span class="o">&gt;</span>,</span><span class="param">	<span class="n">value</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">_NodesType</span><span class="p">,</span> <span class="n">_IdType</span><span class="p">],</span> <span class="n">_NodeType</span><span class="p">]</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">function</span> <span class="n">_VALUE_FUNC_DEFAULT</span><span class="o">&gt;</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">expr</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="n"><a href="visual/core/watcher.html#DSWatcherContext">visual.core.watcher.DSWatcherContext</a></span><span class="p">[</span><span class="n"><a href="visual/types/watchable.html#Nodes">visual.types.watchable.Nodes</a></span><span class="p">[</span><span class="n">_NodesType</span><span class="p">,</span> <span class="n">_NodeType</span><span class="p">,</span> <span class="n">_IdType</span><span class="p">,</span> <span class="n">_WeightType</span><span class="p">]]</span>:</span></span>

                <label class="view-source-button" for="nodes-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#nodes"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="nodes-215"><a href="#nodes-215"><span class="linenos">215</span></a><span class="k">def</span><span class="w"> </span><span class="nf">_visual_api_watch_nodes</span><span class="p">[</span><span class="n">_NodesType</span><span class="p">,</span> <span class="n">_NodeType</span><span class="p">,</span> <span class="n">_IdType</span><span class="p">:</span> <span class="n">NodeId</span><span class="p">,</span> <span class="n">_WeightType</span><span class="p">:</span> <span class="n">NodeWeight</span><span class="p">](</span>
</span><span id="nodes-216"><a href="#nodes-216"><span class="linenos">216</span></a>        <span class="n">var</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="nodes-217"><a href="#nodes-217"><span class="linenos">217</span></a>        <span class="n">head_id</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">_NodesType</span><span class="p">],</span> <span class="n">_IdType</span><span class="p">]</span> <span class="o">=</span> <span class="n">_HEAD_ID_FUNC_DEFAULT</span><span class="p">,</span> 
</span><span id="nodes-218"><a href="#nodes-218"><span class="linenos">218</span></a>        <span class="n">next_ids</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">_NodesType</span><span class="p">,</span> <span class="n">_IdType</span><span class="p">],</span> <span class="n">_IdType</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">_IdType</span><span class="p">,</span> <span class="n">_WeightType</span><span class="p">]</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="n">_IdType</span><span class="p">]</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">_IdType</span><span class="p">,</span> <span class="n">_WeightType</span><span class="p">]]]</span> <span class="o">=</span> <span class="n">_NEXT_IDS_FUNC_DEFAULT</span><span class="p">,</span>
</span><span id="nodes-219"><a href="#nodes-219"><span class="linenos">219</span></a>        <span class="n">value</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">_NodesType</span><span class="p">,</span> <span class="n">_IdType</span><span class="p">],</span> <span class="n">_NodeType</span><span class="p">]</span> <span class="o">=</span> <span class="n">_VALUE_FUNC_DEFAULT</span><span class="p">,</span>
</span><span id="nodes-220"><a href="#nodes-220"><span class="linenos">220</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="nodes-221"><a href="#nodes-221"><span class="linenos">221</span></a>        <span class="n">expr</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="nodes-222"><a href="#nodes-222"><span class="linenos">222</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DSWatcherContext</span><span class="p">[</span><span class="n">Nodes</span><span class="p">[</span><span class="n">_NodesType</span><span class="p">,</span> <span class="n">_NodeType</span><span class="p">,</span> <span class="n">_IdType</span><span class="p">,</span> <span class="n">_WeightType</span><span class="p">]]:</span>
</span><span id="nodes-223"><a href="#nodes-223"><span class="linenos">223</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="nodes-224"><a href="#nodes-224"><span class="linenos">224</span></a><span class="sd">    Registers a nodes variable to be watched in the snapshot.</span>
</span><span id="nodes-225"><a href="#nodes-225"><span class="linenos">225</span></a>
</span><span id="nodes-226"><a href="#nodes-226"><span class="linenos">226</span></a><span class="sd">    Args:</span>
</span><span id="nodes-227"><a href="#nodes-227"><span class="linenos">227</span></a><span class="sd">        var (str): Variable name of the nodes structure to watch.</span>
</span><span id="nodes-228"><a href="#nodes-228"><span class="linenos">228</span></a><span class="sd">        head_id (Callable): </span>
</span><span id="nodes-229"><a href="#nodes-229"><span class="linenos">229</span></a><span class="sd">            Function to get the head id from the nodes. Id must be an integer or string. You can use `repr` and `eval` to convert complex ids to string and back.</span>
</span><span id="nodes-230"><a href="#nodes-230"><span class="linenos">230</span></a><span class="sd">            Example:</span>
</span><span id="nodes-231"><a href="#nodes-231"><span class="linenos">231</span></a><span class="sd">            ```python</span>
</span><span id="nodes-232"><a href="#nodes-232"><span class="linenos">232</span></a><span class="sd">            def head_id(nodes):</span>
</span><span id="nodes-233"><a href="#nodes-233"><span class="linenos">233</span></a><span class="sd">                return nodes.head_id</span>
</span><span id="nodes-234"><a href="#nodes-234"><span class="linenos">234</span></a><span class="sd">            ```</span>
</span><span id="nodes-235"><a href="#nodes-235"><span class="linenos">235</span></a><span class="sd">        next_ids (Callable): </span>
</span><span id="nodes-236"><a href="#nodes-236"><span class="linenos">236</span></a><span class="sd">            Function to get the next ids and weights from a given id. Weight is defaulted to 1 if not provided. Id must be an integer or string (None means no next ids). You can use `repr` and `eval` to convert complex ids to string and back.</span>
</span><span id="nodes-237"><a href="#nodes-237"><span class="linenos">237</span></a><span class="sd">            Example:</span>
</span><span id="nodes-238"><a href="#nodes-238"><span class="linenos">238</span></a><span class="sd">            ```python</span>
</span><span id="nodes-239"><a href="#nodes-239"><span class="linenos">239</span></a><span class="sd">            def next_ids(nodes, id):</span>
</span><span id="nodes-240"><a href="#nodes-240"><span class="linenos">240</span></a><span class="sd">                next_nodes = nodes[id].nexts</span>
</span><span id="nodes-241"><a href="#nodes-241"><span class="linenos">241</span></a><span class="sd">                return [(next_node.id, next_node.weight) for next_node in next_nodes]</span>
</span><span id="nodes-242"><a href="#nodes-242"><span class="linenos">242</span></a><span class="sd">            ```</span>
</span><span id="nodes-243"><a href="#nodes-243"><span class="linenos">243</span></a><span class="sd">        value (Callable): </span>
</span><span id="nodes-244"><a href="#nodes-244"><span class="linenos">244</span></a><span class="sd">            Function to get the node value (the actual object) from a given id.</span>
</span><span id="nodes-245"><a href="#nodes-245"><span class="linenos">245</span></a><span class="sd">            Example:</span>
</span><span id="nodes-246"><a href="#nodes-246"><span class="linenos">246</span></a><span class="sd">            ```python</span>
</span><span id="nodes-247"><a href="#nodes-247"><span class="linenos">247</span></a><span class="sd">            def value(nodes, id):</span>
</span><span id="nodes-248"><a href="#nodes-248"><span class="linenos">248</span></a><span class="sd">                return nodes[id].value</span>
</span><span id="nodes-249"><a href="#nodes-249"><span class="linenos">249</span></a><span class="sd">            ```</span>
</span><span id="nodes-250"><a href="#nodes-250"><span class="linenos">250</span></a><span class="sd">        expr (bool): </span>
</span><span id="nodes-251"><a href="#nodes-251"><span class="linenos">251</span></a><span class="sd">            Whether the `var` is an expression.</span>
</span><span id="nodes-252"><a href="#nodes-252"><span class="linenos">252</span></a>
</span><span id="nodes-253"><a href="#nodes-253"><span class="linenos">253</span></a><span class="sd">    **Provide variable name or expression.** `expr=False` looks up `var` by name at locals/globals of the execution frame which has better performance. `expr=True` treats `var` as an expression and directly evaluate it by using `eval()` during capture.</span>
</span><span id="nodes-254"><a href="#nodes-254"><span class="linenos">254</span></a>
</span><span id="nodes-255"><a href="#nodes-255"><span class="linenos">255</span></a><span class="sd">    **Use `expr=False` in most cases.** Use `expr=True` when you must watch a composite expression or computation that is not stored in a simple variable.</span>
</span><span id="nodes-256"><a href="#nodes-256"><span class="linenos">256</span></a>
</span><span id="nodes-257"><a href="#nodes-257"><span class="linenos">257</span></a><span class="sd">    Examples:</span>
</span><span id="nodes-258"><a href="#nodes-258"><span class="linenos">258</span></a><span class="sd">        ```python</span>
</span><span id="nodes-259"><a href="#nodes-259"><span class="linenos">259</span></a><span class="sd">        nodes(&#39;linked_list&#39;) </span>
</span><span id="nodes-260"><a href="#nodes-260"><span class="linenos">260</span></a><span class="sd">        nodes(&#39;graph_nodes&#39;, get_head_id, get_next_ids, get_value) # Custom node definitions</span>
</span><span id="nodes-261"><a href="#nodes-261"><span class="linenos">261</span></a><span class="sd">        nodes(&#39;linked_lists[0]&#39;, expr=True)</span>
</span><span id="nodes-262"><a href="#nodes-262"><span class="linenos">262</span></a><span class="sd">        nodes(&#39;linked_list&#39;).index(&#39;i&#39;, &#39;j&#39;).item(&#39;node&#39;).index(&#39;i+1&#39;, &#39;j+1&#39;, expr=True)</span>
</span><span id="nodes-263"><a href="#nodes-263"><span class="linenos">263</span></a>
</span><span id="nodes-264"><a href="#nodes-264"><span class="linenos">264</span></a><span class="sd">        # Wrong usage</span>
</span><span id="nodes-265"><a href="#nodes-265"><span class="linenos">265</span></a><span class="sd">        nodes(&#39;linked_list[0]&#39;) # Didn&#39;t specify that it&#39;s an expression</span>
</span><span id="nodes-266"><a href="#nodes-266"><span class="linenos">266</span></a>
</span><span id="nodes-267"><a href="#nodes-267"><span class="linenos">267</span></a><span class="sd">        ```</span>
</span><span id="nodes-268"><a href="#nodes-268"><span class="linenos">268</span></a><span class="sd">    Returns:</span>
</span><span id="nodes-269"><a href="#nodes-269"><span class="linenos">269</span></a><span class="sd">        DSWatcherContext: The context manager containing the registered Nodes watchable.</span>
</span><span id="nodes-270"><a href="#nodes-270"><span class="linenos">270</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="nodes-271"><a href="#nodes-271"><span class="linenos">271</span></a>    <span class="n">v</span> <span class="o">=</span> <span class="n">Nodes</span><span class="p">[</span><span class="n">_NodesType</span><span class="p">,</span> <span class="n">_NodeType</span><span class="p">,</span> <span class="n">_IdType</span><span class="p">,</span> <span class="n">_WeightType</span><span class="p">](</span>
</span><span id="nodes-272"><a href="#nodes-272"><span class="linenos">272</span></a>        <span class="n">var</span><span class="p">,</span> <span class="n">head_id</span><span class="p">,</span> <span class="n">next_ids</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">expr</span><span class="o">=</span><span class="n">expr</span><span class="p">,</span>
</span><span id="nodes-273"><a href="#nodes-273"><span class="linenos">273</span></a>    <span class="p">)</span>
</span><span id="nodes-274"><a href="#nodes-274"><span class="linenos">274</span></a>    <span class="n">watcher</span><span class="o">.</span><span class="n">watch</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
</span><span id="nodes-275"><a href="#nodes-275"><span class="linenos">275</span></a>    <span class="k">return</span> <span class="n">DSWatcherContext</span><span class="p">([</span><span class="n">v</span><span class="p">])</span>
</span></pre></div>


            <div class="docstring"><p>Registers a nodes variable to be watched in the snapshot.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>var (str):</strong>  Variable name of the nodes structure to watch.</li>
<li><p><strong>head_id (Callable):</strong>   Function to get the head id from the nodes. Id must be an integer or string. You can use <code>repr</code> and <code>eval</code> to convert complex ids to string and back.
Example:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">head_id</span><span class="p">(</span><span class="n">nodes</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">nodes</span><span class="o">.</span><span class="n">head_id</span>
</code></pre>
</div></li>
<li><p><strong>next_ids (Callable):</strong>   Function to get the next ids and weights from a given id. Weight is defaulted to 1 if not provided. Id must be an integer or string (None means no next ids). You can use <code>repr</code> and <code>eval</code> to convert complex ids to string and back.
Example:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">next_ids</span><span class="p">(</span><span class="n">nodes</span><span class="p">,</span> <span class="nb">id</span><span class="p">):</span>
    <span class="n">next_nodes</span> <span class="o">=</span> <span class="n">nodes</span><span class="p">[</span><span class="nb">id</span><span class="p">]</span><span class="o">.</span><span class="n">nexts</span>
    <span class="k">return</span> <span class="p">[(</span><span class="n">next_node</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">next_node</span><span class="o">.</span><span class="n">weight</span><span class="p">)</span> <span class="k">for</span> <span class="n">next_node</span> <span class="ow">in</span> <span class="n">next_nodes</span><span class="p">]</span>
</code></pre>
</div></li>
<li><p><strong>value (Callable):</strong>   Function to get the node value (the actual object) from a given id.
Example:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">value</span><span class="p">(</span><span class="n">nodes</span><span class="p">,</span> <span class="nb">id</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">nodes</span><span class="p">[</span><span class="nb">id</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>
</code></pre>
</div></li>
<li><p><strong>expr (bool):</strong>   Whether the <code><a href="#var">var</a></code> is an expression.</p></li>
</ul>

<p><strong>Provide variable name or expression.</strong> <code>expr=False</code> looks up <code><a href="#var">var</a></code> by name at locals/globals of the execution frame which has better performance. <code>expr=True</code> treats <code><a href="#var">var</a></code> as an expression and directly evaluate it by using <code>eval()</code> during capture.</p>

<p><strong>Use <code>expr=False</code> in most cases.</strong> Use <code>expr=True</code> when you must watch a composite expression or computation that is not stored in a simple variable.</p>

<h6 id="examples">Examples:</h6>

<blockquote>
  <div class="pdoc-code codehilite">
<pre><span></span><code><span class="n">nodes</span><span class="p">(</span><span class="s1">&#39;linked_list&#39;</span><span class="p">)</span> 
<span class="n">nodes</span><span class="p">(</span><span class="s1">&#39;graph_nodes&#39;</span><span class="p">,</span> <span class="n">get_head_id</span><span class="p">,</span> <span class="n">get_next_ids</span><span class="p">,</span> <span class="n">get_value</span><span class="p">)</span> <span class="c1"># Custom node definitions</span>
<span class="n">nodes</span><span class="p">(</span><span class="s1">&#39;linked_lists[0]&#39;</span><span class="p">,</span> <span class="n">expr</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">nodes</span><span class="p">(</span><span class="s1">&#39;linked_list&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="s1">&#39;j&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;i+1&#39;</span><span class="p">,</span> <span class="s1">&#39;j+1&#39;</span><span class="p">,</span> <span class="n">expr</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Wrong usage</span>
<span class="n">nodes</span><span class="p">(</span><span class="s1">&#39;linked_list[0]&#39;</span><span class="p">)</span> <span class="c1"># Didn&#39;t specify that it&#39;s an expression</span>
</code></pre>
  </div>
</blockquote>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>DSWatcherContext: The context manager containing the registered Nodes watchable.</p>
</blockquote>
</div>


                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.kind) {
                    case "function":
                        if (doc.fullname.endsWith(".__init__")) {
                            heading = `<span class="name">${doc.fullname.replace(/\.__init__$/, "")}</span>${doc.signature}`;
                        } else {
                            heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span>${doc.signature}`;
                        }
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value"> = ${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.kind}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>